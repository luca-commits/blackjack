<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="993px" preserveAspectRatio="none" style="width:769px;height:993px;background:#FFFFFF;" version="1.1" viewBox="0 0 769 993" width="769px" zoomAndPan="magnify"><defs/><g><!--MD5=[22bd1b67cb53ad6c9c47d1b608310931]
class client_request--><g id="elem_client_request"><rect codeLine="44" fill="#F1F1F1" height="80.5938" id="client_request" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="156" x="138.5" y="797"/><ellipse cx="162.95" cy="813" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M165.2938,808.6719 C164.3563,808.2344 163.7625,808.0938 162.8875,808.0938 C160.2625,808.0938 158.2625,810.1719 158.2625,812.8906 L158.2625,814.0156 C158.2625,816.5938 160.3719,818.4844 163.2625,818.4844 C164.4813,818.4844 165.6375,818.1875 166.3875,817.6406 C166.9656,817.2344 167.2938,816.7813 167.2938,816.3906 C167.2938,815.9375 166.9031,815.5469 166.4344,815.5469 C166.2156,815.5469 166.0125,815.625 165.825,815.8125 C165.3719,816.2969 165.3719,816.2969 165.1844,816.3906 C164.7625,816.6563 164.075,816.7813 163.3094,816.7813 C161.2625,816.7813 159.9656,815.6875 159.9656,813.9844 L159.9656,812.8906 C159.9656,811.1094 161.2156,809.7969 162.95,809.7969 C163.5281,809.7969 164.1375,809.9531 164.6063,810.2031 C165.0906,810.4844 165.2625,810.7031 165.3563,811.1094 C165.4188,811.5156 165.45,811.6406 165.5906,811.7656 C165.7313,811.9063 165.9656,812.0156 166.1844,812.0156 C166.45,812.0156 166.7156,811.875 166.8875,811.6563 C166.9969,811.5 167.0281,811.3125 167.0281,810.8906 L167.0281,809.4688 C167.0281,809.0313 167.0125,808.9063 166.9188,808.75 C166.7625,808.4844 166.4813,808.3438 166.1844,808.3438 C165.8875,808.3438 165.6844,808.4375 165.4656,808.75 L165.2938,808.6719 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="103" x="179.05" y="817.8467">client_request</text><line style="stroke:#181818;stroke-width:0.5;" x1="139.5" x2="293.5" y1="829" y2="829"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="116" x="144.5" y="845.9951">player_id: string</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="144" x="144.5" y="862.292">RequestType: enum</text><line style="stroke:#181818;stroke-width:0.5;" x1="139.5" x2="293.5" y1="869.5938" y2="869.5938"/></g><!--MD5=[00006b40d04256eb58447385d3fb8dab]
class join_game_request--><g id="elem_join_game_request"><rect fill="#F1F1F1" height="48" id="join_game_request" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="167" x="7" y="938"/><ellipse cx="22" cy="954" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M24.3438,949.6719 C23.4063,949.2344 22.8125,949.0938 21.9375,949.0938 C19.3125,949.0938 17.3125,951.1719 17.3125,953.8906 L17.3125,955.0156 C17.3125,957.5938 19.4219,959.4844 22.3125,959.4844 C23.5313,959.4844 24.6875,959.1875 25.4375,958.6406 C26.0156,958.2344 26.3438,957.7813 26.3438,957.3906 C26.3438,956.9375 25.9531,956.5469 25.4844,956.5469 C25.2656,956.5469 25.0625,956.625 24.875,956.8125 C24.4219,957.2969 24.4219,957.2969 24.2344,957.3906 C23.8125,957.6563 23.125,957.7813 22.3594,957.7813 C20.3125,957.7813 19.0156,956.6875 19.0156,954.9844 L19.0156,953.8906 C19.0156,952.1094 20.2656,950.7969 22,950.7969 C22.5781,950.7969 23.1875,950.9531 23.6563,951.2031 C24.1406,951.4844 24.3125,951.7031 24.4063,952.1094 C24.4688,952.5156 24.5,952.6406 24.6406,952.7656 C24.7813,952.9063 25.0156,953.0156 25.2344,953.0156 C25.5,953.0156 25.7656,952.875 25.9375,952.6563 C26.0469,952.5 26.0781,952.3125 26.0781,951.8906 L26.0781,950.4688 C26.0781,950.0313 26.0625,949.9063 25.9688,949.75 C25.8125,949.4844 25.5313,949.3438 25.2344,949.3438 C24.9375,949.3438 24.7344,949.4375 24.5156,949.75 L24.3438,949.6719 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="135" x="36" y="958.8467">join_game_request</text><line style="stroke:#181818;stroke-width:0.5;" x1="8" x2="173" y1="970" y2="970"/><line style="stroke:#181818;stroke-width:0.5;" x1="8" x2="173" y1="978" y2="978"/></g><!--MD5=[70335e1947a3fd4c54218fa96d5abede]
class start_game_request--><g id="elem_start_game_request"><rect fill="#F1F1F1" height="48" id="start_game_request" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="176" x="209.5" y="938"/><ellipse cx="224.5" cy="954" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M226.8438,949.6719 C225.9063,949.2344 225.3125,949.0938 224.4375,949.0938 C221.8125,949.0938 219.8125,951.1719 219.8125,953.8906 L219.8125,955.0156 C219.8125,957.5938 221.9219,959.4844 224.8125,959.4844 C226.0313,959.4844 227.1875,959.1875 227.9375,958.6406 C228.5156,958.2344 228.8438,957.7813 228.8438,957.3906 C228.8438,956.9375 228.4531,956.5469 227.9844,956.5469 C227.7656,956.5469 227.5625,956.625 227.375,956.8125 C226.9219,957.2969 226.9219,957.2969 226.7344,957.3906 C226.3125,957.6563 225.625,957.7813 224.8594,957.7813 C222.8125,957.7813 221.5156,956.6875 221.5156,954.9844 L221.5156,953.8906 C221.5156,952.1094 222.7656,950.7969 224.5,950.7969 C225.0781,950.7969 225.6875,950.9531 226.1563,951.2031 C226.6406,951.4844 226.8125,951.7031 226.9063,952.1094 C226.9688,952.5156 227,952.6406 227.1406,952.7656 C227.2813,952.9063 227.5156,953.0156 227.7344,953.0156 C228,953.0156 228.2656,952.875 228.4375,952.6563 C228.5469,952.5 228.5781,952.3125 228.5781,951.8906 L228.5781,950.4688 C228.5781,950.0313 228.5625,949.9063 228.4688,949.75 C228.3125,949.4844 228.0313,949.3438 227.7344,949.3438 C227.4375,949.3438 227.2344,949.4375 227.0156,949.75 L226.8438,949.6719 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="144" x="238.5" y="958.8467">start_game_request</text><line style="stroke:#181818;stroke-width:0.5;" x1="210.5" x2="384.5" y1="970" y2="970"/><line style="stroke:#181818;stroke-width:0.5;" x1="210.5" x2="384.5" y1="978" y2="978"/></g><!--MD5=[b5ad726f7e76edc1788a3bfb6eda2845]
class make_bet_request--><g id="elem_make_bet_request"><rect fill="#F1F1F1" height="48" id="make_bet_request" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="167" x="421" y="938"/><ellipse cx="436" cy="954" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M438.3438,949.6719 C437.4063,949.2344 436.8125,949.0938 435.9375,949.0938 C433.3125,949.0938 431.3125,951.1719 431.3125,953.8906 L431.3125,955.0156 C431.3125,957.5938 433.4219,959.4844 436.3125,959.4844 C437.5313,959.4844 438.6875,959.1875 439.4375,958.6406 C440.0156,958.2344 440.3438,957.7813 440.3438,957.3906 C440.3438,956.9375 439.9531,956.5469 439.4844,956.5469 C439.2656,956.5469 439.0625,956.625 438.875,956.8125 C438.4219,957.2969 438.4219,957.2969 438.2344,957.3906 C437.8125,957.6563 437.125,957.7813 436.3594,957.7813 C434.3125,957.7813 433.0156,956.6875 433.0156,954.9844 L433.0156,953.8906 C433.0156,952.1094 434.2656,950.7969 436,950.7969 C436.5781,950.7969 437.1875,950.9531 437.6563,951.2031 C438.1406,951.4844 438.3125,951.7031 438.4063,952.1094 C438.4688,952.5156 438.5,952.6406 438.6406,952.7656 C438.7813,952.9063 439.0156,953.0156 439.2344,953.0156 C439.5,953.0156 439.7656,952.875 439.9375,952.6563 C440.0469,952.5 440.0781,952.3125 440.0781,951.8906 L440.0781,950.4688 C440.0781,950.0313 440.0625,949.9063 439.9688,949.75 C439.8125,949.4844 439.5313,949.3438 439.2344,949.3438 C438.9375,949.3438 438.7344,949.4375 438.5156,949.75 L438.3438,949.6719 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="135" x="450" y="958.8467">make_bet_request</text><line style="stroke:#181818;stroke-width:0.5;" x1="422" x2="587" y1="970" y2="970"/><line style="stroke:#181818;stroke-width:0.5;" x1="422" x2="587" y1="978" y2="978"/></g><!--MD5=[af10583e2e8219af5501a9b859c12ad3]
class action_request--><g id="elem_action_request"><rect fill="#F1F1F1" height="48" id="action_request" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="139" x="623" y="938"/><ellipse cx="638" cy="954" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M640.3438,949.6719 C639.4063,949.2344 638.8125,949.0938 637.9375,949.0938 C635.3125,949.0938 633.3125,951.1719 633.3125,953.8906 L633.3125,955.0156 C633.3125,957.5938 635.4219,959.4844 638.3125,959.4844 C639.5313,959.4844 640.6875,959.1875 641.4375,958.6406 C642.0156,958.2344 642.3438,957.7813 642.3438,957.3906 C642.3438,956.9375 641.9531,956.5469 641.4844,956.5469 C641.2656,956.5469 641.0625,956.625 640.875,956.8125 C640.4219,957.2969 640.4219,957.2969 640.2344,957.3906 C639.8125,957.6563 639.125,957.7813 638.3594,957.7813 C636.3125,957.7813 635.0156,956.6875 635.0156,954.9844 L635.0156,953.8906 C635.0156,952.1094 636.2656,950.7969 638,950.7969 C638.5781,950.7969 639.1875,950.9531 639.6563,951.2031 C640.1406,951.4844 640.3125,951.7031 640.4063,952.1094 C640.4688,952.5156 640.5,952.6406 640.6406,952.7656 C640.7813,952.9063 641.0156,953.0156 641.2344,953.0156 C641.5,953.0156 641.7656,952.875 641.9375,952.6563 C642.0469,952.5 642.0781,952.3125 642.0781,951.8906 L642.0781,950.4688 C642.0781,950.0313 642.0625,949.9063 641.9688,949.75 C641.8125,949.4844 641.5313,949.3438 641.2344,949.3438 C640.9375,949.3438 640.7344,949.4375 640.5156,949.75 L640.3438,949.6719 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="107" x="652" y="958.8467">action_request</text><line style="stroke:#181818;stroke-width:0.5;" x1="624" x2="761" y1="970" y2="970"/><line style="stroke:#181818;stroke-width:0.5;" x1="624" x2="761" y1="978" y2="978"/></g><!--MD5=[f3998a2a9ecb9e6f502fc9359fb583cc]
class server_response--><g id="elem_server_response"><rect codeLine="61" fill="#F1F1F1" height="64.2969" id="server_response" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="167" x="338" y="673"/><ellipse cx="360.65" cy="689" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M362.9938,684.6719 C362.0563,684.2344 361.4625,684.0938 360.5875,684.0938 C357.9625,684.0938 355.9625,686.1719 355.9625,688.8906 L355.9625,690.0156 C355.9625,692.5938 358.0719,694.4844 360.9625,694.4844 C362.1813,694.4844 363.3375,694.1875 364.0875,693.6406 C364.6656,693.2344 364.9938,692.7813 364.9938,692.3906 C364.9938,691.9375 364.6031,691.5469 364.1344,691.5469 C363.9156,691.5469 363.7125,691.625 363.525,691.8125 C363.0719,692.2969 363.0719,692.2969 362.8844,692.3906 C362.4625,692.6563 361.775,692.7813 361.0094,692.7813 C358.9625,692.7813 357.6656,691.6875 357.6656,689.9844 L357.6656,688.8906 C357.6656,687.1094 358.9156,685.7969 360.65,685.7969 C361.2281,685.7969 361.8375,685.9531 362.3063,686.2031 C362.7906,686.4844 362.9625,686.7031 363.0563,687.1094 C363.1188,687.5156 363.15,687.6406 363.2906,687.7656 C363.4313,687.9063 363.6656,688.0156 363.8844,688.0156 C364.15,688.0156 364.4156,687.875 364.5875,687.6563 C364.6969,687.5 364.7281,687.3125 364.7281,686.8906 L364.7281,685.4688 C364.7281,685.0313 364.7125,684.9063 364.6188,684.75 C364.4625,684.4844 364.1813,684.3438 363.8844,684.3438 C363.5875,684.3438 363.3844,684.4375 363.1656,684.75 L362.9938,684.6719 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="118" x="376.35" y="693.8467">server_response</text><line style="stroke:#181818;stroke-width:0.5;" x1="339" x2="504" y1="705" y2="705"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="155" x="344" y="721.9951">ResponseType: enum</text><line style="stroke:#181818;stroke-width:0.5;" x1="339" x2="504" y1="729.2969" y2="729.2969"/></g><!--MD5=[4afc4b65ad9e26196afa89ceb4e8159f]
class answer_rqst_response--><g id="elem_answer_rqst_response"><rect fill="#F1F1F1" height="48" id="answer_rqst_response" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="191" x="330" y="813.5"/><ellipse cx="345" cy="829.5" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M347.3438,825.1719 C346.4063,824.7344 345.8125,824.5938 344.9375,824.5938 C342.3125,824.5938 340.3125,826.6719 340.3125,829.3906 L340.3125,830.5156 C340.3125,833.0938 342.4219,834.9844 345.3125,834.9844 C346.5313,834.9844 347.6875,834.6875 348.4375,834.1406 C349.0156,833.7344 349.3438,833.2813 349.3438,832.8906 C349.3438,832.4375 348.9531,832.0469 348.4844,832.0469 C348.2656,832.0469 348.0625,832.125 347.875,832.3125 C347.4219,832.7969 347.4219,832.7969 347.2344,832.8906 C346.8125,833.1563 346.125,833.2813 345.3594,833.2813 C343.3125,833.2813 342.0156,832.1875 342.0156,830.4844 L342.0156,829.3906 C342.0156,827.6094 343.2656,826.2969 345,826.2969 C345.5781,826.2969 346.1875,826.4531 346.6563,826.7031 C347.1406,826.9844 347.3125,827.2031 347.4063,827.6094 C347.4688,828.0156 347.5,828.1406 347.6406,828.2656 C347.7813,828.4063 348.0156,828.5156 348.2344,828.5156 C348.5,828.5156 348.7656,828.375 348.9375,828.1563 C349.0469,828 349.0781,827.8125 349.0781,827.3906 L349.0781,825.9688 C349.0781,825.5313 349.0625,825.4063 348.9688,825.25 C348.8125,824.9844 348.5313,824.8438 348.2344,824.8438 C347.9375,824.8438 347.7344,824.9375 347.5156,825.25 L347.3438,825.1719 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="159" x="359" y="834.3467">answer_rqst_response</text><line style="stroke:#181818;stroke-width:0.5;" x1="331" x2="520" y1="845.5" y2="845.5"/><line style="stroke:#181818;stroke-width:0.5;" x1="331" x2="520" y1="853.5" y2="853.5"/></g><!--MD5=[fe024f165dbe5df13e77f2376586941c]
class change_gamestate_msg--><g id="elem_change_gamestate_msg"><rect fill="#F1F1F1" height="48" id="change_gamestate_msg" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="206" x="556.5" y="813.5"/><ellipse cx="571.5" cy="829.5" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M573.8438,825.1719 C572.9063,824.7344 572.3125,824.5938 571.4375,824.5938 C568.8125,824.5938 566.8125,826.6719 566.8125,829.3906 L566.8125,830.5156 C566.8125,833.0938 568.9219,834.9844 571.8125,834.9844 C573.0313,834.9844 574.1875,834.6875 574.9375,834.1406 C575.5156,833.7344 575.8438,833.2813 575.8438,832.8906 C575.8438,832.4375 575.4531,832.0469 574.9844,832.0469 C574.7656,832.0469 574.5625,832.125 574.375,832.3125 C573.9219,832.7969 573.9219,832.7969 573.7344,832.8906 C573.3125,833.1563 572.625,833.2813 571.8594,833.2813 C569.8125,833.2813 568.5156,832.1875 568.5156,830.4844 L568.5156,829.3906 C568.5156,827.6094 569.7656,826.2969 571.5,826.2969 C572.0781,826.2969 572.6875,826.4531 573.1563,826.7031 C573.6406,826.9844 573.8125,827.2031 573.9063,827.6094 C573.9688,828.0156 574,828.1406 574.1406,828.2656 C574.2813,828.4063 574.5156,828.5156 574.7344,828.5156 C575,828.5156 575.2656,828.375 575.4375,828.1563 C575.5469,828 575.5781,827.8125 575.5781,827.3906 L575.5781,825.9688 C575.5781,825.5313 575.5625,825.4063 575.4688,825.25 C575.3125,824.9844 575.0313,824.8438 574.7344,824.8438 C574.4375,824.8438 574.2344,824.9375 574.0156,825.25 L573.8438,825.1719 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="174" x="585.5" y="834.3467">change_gamestate_msg</text><line style="stroke:#181818;stroke-width:0.5;" x1="557.5" x2="761.5" y1="845.5" y2="845.5"/><line style="stroke:#181818;stroke-width:0.5;" x1="557.5" x2="761.5" y1="853.5" y2="853.5"/></g><!--MD5=[9b257e8781d420fff5446e2eb49c7c1c]
class server_network_manager--><g id="elem_server_network_manager"><rect codeLine="1" fill="#F1F1F1" height="194.6719" id="server_network_manager" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="252" x="291.5" y="418"/><ellipse cx="323.6" cy="434" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M325.9438,429.6719 C325.0063,429.2344 324.4125,429.0938 323.5375,429.0938 C320.9125,429.0938 318.9125,431.1719 318.9125,433.8906 L318.9125,435.0156 C318.9125,437.5938 321.0219,439.4844 323.9125,439.4844 C325.1313,439.4844 326.2875,439.1875 327.0375,438.6406 C327.6156,438.2344 327.9438,437.7813 327.9438,437.3906 C327.9438,436.9375 327.5531,436.5469 327.0844,436.5469 C326.8656,436.5469 326.6625,436.625 326.475,436.8125 C326.0219,437.2969 326.0219,437.2969 325.8344,437.3906 C325.4125,437.6563 324.725,437.7813 323.9594,437.7813 C321.9125,437.7813 320.6156,436.6875 320.6156,434.9844 L320.6156,433.8906 C320.6156,432.1094 321.8656,430.7969 323.6,430.7969 C324.1781,430.7969 324.7875,430.9531 325.2563,431.2031 C325.7406,431.4844 325.9125,431.7031 326.0063,432.1094 C326.0688,432.5156 326.1,432.6406 326.2406,432.7656 C326.3813,432.9063 326.6156,433.0156 326.8344,433.0156 C327.1,433.0156 327.3656,432.875 327.5375,432.6563 C327.6469,432.5 327.6781,432.3125 327.6781,431.8906 L327.6781,430.4688 C327.6781,430.0313 327.6625,429.9063 327.5688,429.75 C327.4125,429.4844 327.1313,429.3438 326.8344,429.3438 C326.5375,429.3438 326.3344,429.4375 326.1156,429.75 L325.9438,429.6719 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="182" x="341.4" y="438.8467">server_network_manager</text><line style="stroke:#181818;stroke-width:0.5;" x1="292.5" x2="542.5" y1="450" y2="450"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="130" x="297.5" y="466.9951">acc: tcp_acceptor</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="191" x="297.5" y="483.292">player_id_to_address: map</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="175" x="297.5" y="499.5889">address_to_socket: map</text><line style="stroke:#181818;stroke-width:1.0;" x1="292.5" x2="542.5" y1="506.8906" y2="506.8906"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="143" x="297.5" y="523.8857">listener_loop(): void</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="240" x="297.5" y="540.1826">handle_incoming_message(): void</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="151" x="297.5" y="556.4795">read_message(): void</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="153" x="297.5" y="572.7764">send_message(): void</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="191" x="297.5" y="589.0732">broadcast_message(): void</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="152" x="297.5" y="605.3701">on_player_left(): void</text></g><!--MD5=[734e62549b123ccb989b3a2c32846bc9]
class player_manager--><g id="elem_player_manager"><rect codeLine="14" fill="#F1F1F1" height="96.8906" id="player_manager" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="147" x="579" y="467"/><ellipse cx="594" cy="483" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M596.3438,478.6719 C595.4063,478.2344 594.8125,478.0938 593.9375,478.0938 C591.3125,478.0938 589.3125,480.1719 589.3125,482.8906 L589.3125,484.0156 C589.3125,486.5938 591.4219,488.4844 594.3125,488.4844 C595.5313,488.4844 596.6875,488.1875 597.4375,487.6406 C598.0156,487.2344 598.3438,486.7813 598.3438,486.3906 C598.3438,485.9375 597.9531,485.5469 597.4844,485.5469 C597.2656,485.5469 597.0625,485.625 596.875,485.8125 C596.4219,486.2969 596.4219,486.2969 596.2344,486.3906 C595.8125,486.6563 595.125,486.7813 594.3594,486.7813 C592.3125,486.7813 591.0156,485.6875 591.0156,483.9844 L591.0156,482.8906 C591.0156,481.1094 592.2656,479.7969 594,479.7969 C594.5781,479.7969 595.1875,479.9531 595.6563,480.2031 C596.1406,480.4844 596.3125,480.7031 596.4063,481.1094 C596.4688,481.5156 596.5,481.6406 596.6406,481.7656 C596.7813,481.9063 597.0156,482.0156 597.2344,482.0156 C597.5,482.0156 597.7656,481.875 597.9375,481.6563 C598.0469,481.5 598.0781,481.3125 598.0781,480.8906 L598.0781,479.4688 C598.0781,479.0313 598.0625,478.9063 597.9688,478.75 C597.8125,478.4844 597.5313,478.3438 597.2344,478.3438 C596.9375,478.3438 596.7344,478.4375 596.5156,478.75 L596.3438,478.6719 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="115" x="608" y="487.8467">player_manager</text><line style="stroke:#181818;stroke-width:0.5;" x1="580" x2="725" y1="499" y2="499"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="125" x="585" y="515.9951">player_map: map</text><line style="stroke:#181818;stroke-width:1.0;" x1="580" x2="725" y1="523.2969" y2="523.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="128" x="585" y="540.292">get_player(): bool</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="129" x="585" y="556.5889">add_player(): bool</text></g><!--MD5=[c463bc19fe13ca68cd42d38d7368a899]
class game_instance--><g id="elem_game_instance"><rect codeLine="21" fill="#F1F1F1" height="227.2656" id="game_instance" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="198" x="401.5" y="131"/><ellipse cx="442.6" cy="147" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M444.9438,142.6719 C444.0063,142.2344 443.4125,142.0938 442.5375,142.0938 C439.9125,142.0938 437.9125,144.1719 437.9125,146.8906 L437.9125,148.0156 C437.9125,150.5938 440.0219,152.4844 442.9125,152.4844 C444.1313,152.4844 445.2875,152.1875 446.0375,151.6406 C446.6156,151.2344 446.9438,150.7813 446.9438,150.3906 C446.9438,149.9375 446.5531,149.5469 446.0844,149.5469 C445.8656,149.5469 445.6625,149.625 445.475,149.8125 C445.0219,150.2969 445.0219,150.2969 444.8344,150.3906 C444.4125,150.6563 443.725,150.7813 442.9594,150.7813 C440.9125,150.7813 439.6156,149.6875 439.6156,147.9844 L439.6156,146.8906 C439.6156,145.1094 440.8656,143.7969 442.6,143.7969 C443.1781,143.7969 443.7875,143.9531 444.2563,144.2031 C444.7406,144.4844 444.9125,144.7031 445.0063,145.1094 C445.0688,145.5156 445.1,145.6406 445.2406,145.7656 C445.3813,145.9063 445.6156,146.0156 445.8344,146.0156 C446.1,146.0156 446.3656,145.875 446.5375,145.6563 C446.6469,145.5 446.6781,145.3125 446.6781,144.8906 L446.6781,143.4688 C446.6781,143.0313 446.6625,142.9063 446.5688,142.75 C446.4125,142.4844 446.1313,142.3438 445.8344,142.3438 C445.5375,142.3438 445.3344,142.4375 445.1156,142.75 L444.9438,142.6719 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="108" x="462.4" y="151.8467">game_instance</text><line style="stroke:#181818;stroke-width:0.5;" x1="402.5" x2="598.5" y1="163" y2="163"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="176" x="407.5" y="179.9951">game_state: GameState</text><line style="stroke:#181818;stroke-width:1.0;" x1="402.5" x2="598.5" y1="187.2969" y2="187.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="122" x="407.5" y="204.292">is_started(): bool</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="126" x="407.5" y="220.5889">is_finished(): bool</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="133" x="407.5" y="236.8857">start_game(): bool</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="129" x="407.5" y="253.1826">add_player(): bool</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="186" x="407.5" y="269.4795">try_remove_player(): bool</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="71" x="407.5" y="285.7764">hit(): bool</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="91" x="407.5" y="302.0732">stand(): bool</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="83" x="407.5" y="318.3701">split(): bool</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="145" x="407.5" y="334.667">double_down(): bool</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="94" x="407.5" y="350.9639">insure(): bool</text></g><!--MD5=[444c12384fa8e4658b09e5ec8a311d8e]
class request_handler--><g id="elem_request_handler"><rect codeLine="36" fill="#F1F1F1" height="64.2969" id="request_handler" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="266" x="291.5" y="7"/><ellipse cx="362.25" cy="23" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M364.5938,18.6719 C363.6563,18.2344 363.0625,18.0938 362.1875,18.0938 C359.5625,18.0938 357.5625,20.1719 357.5625,22.8906 L357.5625,24.0156 C357.5625,26.5938 359.6719,28.4844 362.5625,28.4844 C363.7813,28.4844 364.9375,28.1875 365.6875,27.6406 C366.2656,27.2344 366.5938,26.7813 366.5938,26.3906 C366.5938,25.9375 366.2031,25.5469 365.7344,25.5469 C365.5156,25.5469 365.3125,25.625 365.125,25.8125 C364.6719,26.2969 364.6719,26.2969 364.4844,26.3906 C364.0625,26.6563 363.375,26.7813 362.6094,26.7813 C360.5625,26.7813 359.2656,25.6875 359.2656,23.9844 L359.2656,22.8906 C359.2656,21.1094 360.5156,19.7969 362.25,19.7969 C362.8281,19.7969 363.4375,19.9531 363.9063,20.2031 C364.3906,20.4844 364.5625,20.7031 364.6563,21.1094 C364.7188,21.5156 364.75,21.6406 364.8906,21.7656 C365.0313,21.9063 365.2656,22.0156 365.4844,22.0156 C365.75,22.0156 366.0156,21.875 366.1875,21.6563 C366.2969,21.5 366.3281,21.3125 366.3281,20.8906 L366.3281,19.4688 C366.3281,19.0313 366.3125,18.9063 366.2188,18.75 C366.0625,18.4844 365.7813,18.3438 365.4844,18.3438 C365.1875,18.3438 364.9844,18.4375 364.7656,18.75 L364.5938,18.6719 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="116" x="382.75" y="27.8467">request_handler</text><line style="stroke:#181818;stroke-width:0.5;" x1="292.5" x2="556.5" y1="39" y2="39"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="254" x="297.5" y="55.9951">handle_request: request_response*</text><line style="stroke:#181818;stroke-width:0.5;" x1="292.5" x2="556.5" y1="63.2969" y2="63.2969"/></g><!--MD5=[702c1279a0ca73c1369464ef20e9ba9b]
reverse link client_request to join_game_request--><g id="link_client_request_join_game_request"><path codeLine="48" d="M161.147,892.316 C144.723,908.283 127.596,924.9346 114.319,937.8428 " fill="none" id="client_request-backto-join_game_request" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="none" points="156.372,887.195,175.591,878.272,166.131,897.233,156.372,887.195" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[a6e166aeea3561c9e496da8c1582cad9]
reverse link client_request to start_game_request--><g id="link_client_request_start_game_request"><path codeLine="49" d="M253.857,894.996 C263.864,910.131 274.129,925.6553 282.188,937.8428 " fill="none" id="client_request-backto-start_game_request" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="none" points="247.991,898.816,242.798,878.272,259.668,891.094,247.991,898.816" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[1025fbc298462c0ba96019c11ddc188c]
reverse link client_request to make_bet_request--><g id="link_client_request_make_bet_request"><path codeLine="50" d="M313.247,879.651 C358.956,899.093 411.81,921.5745 450.356,937.9699 " fill="none" id="client_request-backto-make_bet_request" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="none" points="310.481,886.082,294.817,871.812,315.961,873.199,310.481,886.082" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[0c3b78520dfb77f222e49e565c69c371]
reverse link client_request to action_request--><g id="link_client_request_action_request"><path codeLine="51" d="M313.945,877.889 C443.179,916.04 482.023,909.06 605.5,938 C611.128,939.3191 616.947,940.7373 622.783,942.1985 " fill="none" id="client_request-backto-action_request" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="none" points="311.769,884.544,294.647,872.06,315.817,871.142,311.769,884.544" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[ac4ec1fe6b6e982b6f075afe6e29985c]
reverse link server_response to answer_rqst_response--><g id="link_server_response_answer_rqst_response"><path codeLine="64" d="M423.071,757.251 C423.665,776.617 424.311,797.709 424.788,813.262 " fill="none" id="server_response-backto-answer_rqst_response" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="none" points="416.074,757.463,422.458,737.258,430.068,757.034,416.074,757.463" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[292a160b93b61b039dbe06d367d47317]
reverse link server_response to change_gamestate_msg--><g id="link_server_response_change_gamestate_msg"><path codeLine="65" d="M495.953,746.824 C535.957,768.759 583.811,794.998 617.386,813.408 " fill="none" id="server_response-backto-change_gamestate_msg" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="none" points="492.376,752.846,478.205,737.092,499.107,740.57,492.376,752.846" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[5fd9800ccbda968a49d61fcd248cfbbf]
link server_response to client_request--><!--MD5=[db13a6cf1ed298339682ec04aaaf9902]
link request_handler to game_instance--><g id="link_request_handler_game_instance"><path codeLine="73" d="M436.208,71.351 C442.329,87.74 450.235,108.909 458.396,130.762 " fill="none" id="request_handler-game_instance" style="stroke:#181818;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/></g><!--MD5=[54c3862c781681611072aa407a36a609]
link request_handler to player_manager--><g id="link_request_handler_player_manager"><path codeLine="74" d="M539.353,71.052 C569.346,84.651 598.543,103.912 617.5,131 C687.174,230.56 675.555,382.066 662.956,461.567 " fill="none" id="request_handler-to-player_manager" style="stroke:#181818;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#181818" points="662.125,466.699,667.5111,458.4534,662.9236,461.7632,659.6138,457.1757,662.125,466.699" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[76f44e30b63ae6973a3c19a998a282d3]
reverse link request_handler to server_network_manager--><g id="link_request_handler_server_network_manager"><path codeLine="75" d="M404.633,75.845 C396.689,92.15 388.489,112.012 384.5,131 C364.269,227.299 378.23,339.697 393.742,417.814 " fill="none" id="request_handler-backto-server_network_manager" style="stroke:#181818;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#181818" points="406.862,71.344,399.2818,77.6322,404.6419,75.8241,406.45,81.1842,406.862,71.344" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[772384777002e766b7607b6b7a59080a]
link game_instance to server_network_manager--><g id="link_game_instance_server_network_manager"><path codeLine="76" d="M465.781,358.022 C460.178,376.182 454.405,394.892 448.886,412.779 " fill="none" id="game_instance-to-server_network_manager" style="stroke:#181818;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#181818" points="447.337,417.8,453.8131,410.3798,448.8114,413.0223,446.1689,408.0207,447.337,417.8" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[b0f969e2618988ad04e863eddc65f3e8]
link game_instance to player_manager--><g id="link_game_instance_player_manager"><path codeLine="77" d="M564.081,358.022 C584.467,394.1 606.079,432.346 622.832,461.996 " fill="none" id="game_instance-to-player_manager" style="stroke:#181818;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#181818" points="625.479,466.679,624.5346,456.8755,623.0196,462.3257,617.5694,460.8106,625.479,466.679" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[eff95888325d11d789b4bec9bcfc1eed]
link request_handler to client_request--><g id="link_request_handler_client_request"><path codeLine="79" d="M401.306,71.22 C389.429,88.249 375.421,110.074 365.5,131 C253.82,366.564 225.238,685.737 218.461,796.608 " fill="none" id="request_handler-client_request" style="stroke:#181818;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/></g><!--MD5=[3da6066e4af01b0380276ecb8cfaa25e]
link server_network_manager to server_response--><g id="link_server_network_manager_server_response"><path codeLine="80" d="M419.564,613.271 C420.027,634.941 420.484,656.395 420.839,672.996 " fill="none" id="server_network_manager-server_response" style="stroke:#181818;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/></g><!--MD5=[b912e2111a7eb994c8792d3ee7e39ae9]
@startuml
Class server_network_manager{
    acc: tcp_acceptor
    player_id_to_address: map
    address_to_socket: map
    - -
    listener_loop(): void
    handle_incoming_message(): void
    read_message(): void
    send_message(): void
    broadcast_message(): void
    on_player_left(): void
}

Class player_manager{
    player_map: map
    - -
    get_player(): bool
    add_player(): bool
}

Class game_instance{
    game_state: GameState
    - -
    is_started(): bool  
    is_finished(): bool
    start_game(): bool
    add_player(): bool
    try_remove_player(): bool
    hit(): bool
    stand(): bool
    split(): bool
    double_down(): bool
    insure(): bool
}

Class request_handler{
    handle_request: request_response*

}


together {

class client_request{
player_id: string
RequestType: enum
}
client_request <|- - join_game_request
client_request <|- - start_game_request
client_request <|- - make_bet_request
client_request <|- - action_request
' client_request <|- - hit_request
' client_request <|- - stand_request
' client_request <|- - split_request
' client_request <|- - double_down_request
' client_request <|- - insure_request

' class action_request{
'    action_type: enum{hit, stand, split, double, insure}
'}
class server_response{
ResponseType: enum
}
server_response <|-down-  answer_rqst_response
server_response <|-down-  change_gamestate_msg

}

server_response .[hidden]. client_request



request_handler .. game_instance
request_handler ..> player_manager
request_handler <.. server_network_manager
game_instance ..> server_network_manager
game_instance ..> player_manager

request_handler .right. client_request
server_network_manager .. server_response
@enduml

@startuml
Class server_network_manager{
    acc: tcp_acceptor
    player_id_to_address: map
    address_to_socket: map
    - -
    listener_loop(): void
    handle_incoming_message(): void
    read_message(): void
    send_message(): void
    broadcast_message(): void
    on_player_left(): void
}

Class player_manager{
    player_map: map
    - -
    get_player(): bool
    add_player(): bool
}

Class game_instance{
    game_state: GameState
    - -
    is_started(): bool  
    is_finished(): bool
    start_game(): bool
    add_player(): bool
    try_remove_player(): bool
    hit(): bool
    stand(): bool
    split(): bool
    double_down(): bool
    insure(): bool
}

Class request_handler{
    handle_request: request_response*

}


together {

class client_request{
player_id: string
RequestType: enum
}
client_request <|- - join_game_request
client_request <|- - start_game_request
client_request <|- - make_bet_request
client_request <|- - action_request

class server_response{
ResponseType: enum
}
server_response <|-down-  answer_rqst_response
server_response <|-down-  change_gamestate_msg

}

server_response .[hidden]. client_request



request_handler .. game_instance
request_handler ..> player_manager
request_handler <.. server_network_manager
game_instance ..> server_network_manager
game_instance ..> player_manager

request_handler .right. client_request
server_network_manager .. server_response
@enduml

PlantUML version 1.2022.3(Tue Mar 29 16:10:57 UTC 2022)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>