<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="1010px" preserveAspectRatio="none" style="width:769px;height:1010px;background:#FFFFFF;" version="1.1" viewBox="0 0 769 1010" width="769px" zoomAndPan="magnify"><defs/><g><!--MD5=[22bd1b67cb53ad6c9c47d1b608310931]
class client_request--><g id="elem_client_request"><rect codeLine="46" fill="#F1F1F1" height="80.5938" id="client_request" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="156" x="138.5" y="814"/><ellipse cx="162.95" cy="830" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M165.2938,825.6719 C164.3563,825.2344 163.7625,825.0938 162.8875,825.0938 C160.2625,825.0938 158.2625,827.1719 158.2625,829.8906 L158.2625,831.0156 C158.2625,833.5938 160.3719,835.4844 163.2625,835.4844 C164.4813,835.4844 165.6375,835.1875 166.3875,834.6406 C166.9656,834.2344 167.2938,833.7813 167.2938,833.3906 C167.2938,832.9375 166.9031,832.5469 166.4344,832.5469 C166.2156,832.5469 166.0125,832.625 165.825,832.8125 C165.3719,833.2969 165.3719,833.2969 165.1844,833.3906 C164.7625,833.6563 164.075,833.7813 163.3094,833.7813 C161.2625,833.7813 159.9656,832.6875 159.9656,830.9844 L159.9656,829.8906 C159.9656,828.1094 161.2156,826.7969 162.95,826.7969 C163.5281,826.7969 164.1375,826.9531 164.6063,827.2031 C165.0906,827.4844 165.2625,827.7031 165.3563,828.1094 C165.4188,828.5156 165.45,828.6406 165.5906,828.7656 C165.7313,828.9063 165.9656,829.0156 166.1844,829.0156 C166.45,829.0156 166.7156,828.875 166.8875,828.6563 C166.9969,828.5 167.0281,828.3125 167.0281,827.8906 L167.0281,826.4688 C167.0281,826.0313 167.0125,825.9063 166.9188,825.75 C166.7625,825.4844 166.4813,825.3438 166.1844,825.3438 C165.8875,825.3438 165.6844,825.4375 165.4656,825.75 L165.2938,825.6719 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="103" x="179.05" y="834.8467">client_request</text><line style="stroke:#181818;stroke-width:0.5;" x1="139.5" x2="293.5" y1="846" y2="846"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="116" x="144.5" y="862.9951">player_id: string</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="144" x="144.5" y="879.292">RequestType: enum</text><line style="stroke:#181818;stroke-width:0.5;" x1="139.5" x2="293.5" y1="886.5938" y2="886.5938"/></g><!--MD5=[00006b40d04256eb58447385d3fb8dab]
class join_game_request--><g id="elem_join_game_request"><rect fill="#F1F1F1" height="48" id="join_game_request" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="167" x="7" y="955"/><ellipse cx="22" cy="971" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M24.3438,966.6719 C23.4063,966.2344 22.8125,966.0938 21.9375,966.0938 C19.3125,966.0938 17.3125,968.1719 17.3125,970.8906 L17.3125,972.0156 C17.3125,974.5938 19.4219,976.4844 22.3125,976.4844 C23.5313,976.4844 24.6875,976.1875 25.4375,975.6406 C26.0156,975.2344 26.3438,974.7813 26.3438,974.3906 C26.3438,973.9375 25.9531,973.5469 25.4844,973.5469 C25.2656,973.5469 25.0625,973.625 24.875,973.8125 C24.4219,974.2969 24.4219,974.2969 24.2344,974.3906 C23.8125,974.6563 23.125,974.7813 22.3594,974.7813 C20.3125,974.7813 19.0156,973.6875 19.0156,971.9844 L19.0156,970.8906 C19.0156,969.1094 20.2656,967.7969 22,967.7969 C22.5781,967.7969 23.1875,967.9531 23.6563,968.2031 C24.1406,968.4844 24.3125,968.7031 24.4063,969.1094 C24.4688,969.5156 24.5,969.6406 24.6406,969.7656 C24.7813,969.9063 25.0156,970.0156 25.2344,970.0156 C25.5,970.0156 25.7656,969.875 25.9375,969.6563 C26.0469,969.5 26.0781,969.3125 26.0781,968.8906 L26.0781,967.4688 C26.0781,967.0313 26.0625,966.9063 25.9688,966.75 C25.8125,966.4844 25.5313,966.3438 25.2344,966.3438 C24.9375,966.3438 24.7344,966.4375 24.5156,966.75 L24.3438,966.6719 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="135" x="36" y="975.8467">join_game_request</text><line style="stroke:#181818;stroke-width:0.5;" x1="8" x2="173" y1="987" y2="987"/><line style="stroke:#181818;stroke-width:0.5;" x1="8" x2="173" y1="995" y2="995"/></g><!--MD5=[70335e1947a3fd4c54218fa96d5abede]
class start_game_request--><g id="elem_start_game_request"><rect fill="#F1F1F1" height="48" id="start_game_request" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="176" x="209.5" y="955"/><ellipse cx="224.5" cy="971" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M226.8438,966.6719 C225.9063,966.2344 225.3125,966.0938 224.4375,966.0938 C221.8125,966.0938 219.8125,968.1719 219.8125,970.8906 L219.8125,972.0156 C219.8125,974.5938 221.9219,976.4844 224.8125,976.4844 C226.0313,976.4844 227.1875,976.1875 227.9375,975.6406 C228.5156,975.2344 228.8438,974.7813 228.8438,974.3906 C228.8438,973.9375 228.4531,973.5469 227.9844,973.5469 C227.7656,973.5469 227.5625,973.625 227.375,973.8125 C226.9219,974.2969 226.9219,974.2969 226.7344,974.3906 C226.3125,974.6563 225.625,974.7813 224.8594,974.7813 C222.8125,974.7813 221.5156,973.6875 221.5156,971.9844 L221.5156,970.8906 C221.5156,969.1094 222.7656,967.7969 224.5,967.7969 C225.0781,967.7969 225.6875,967.9531 226.1563,968.2031 C226.6406,968.4844 226.8125,968.7031 226.9063,969.1094 C226.9688,969.5156 227,969.6406 227.1406,969.7656 C227.2813,969.9063 227.5156,970.0156 227.7344,970.0156 C228,970.0156 228.2656,969.875 228.4375,969.6563 C228.5469,969.5 228.5781,969.3125 228.5781,968.8906 L228.5781,967.4688 C228.5781,967.0313 228.5625,966.9063 228.4688,966.75 C228.3125,966.4844 228.0313,966.3438 227.7344,966.3438 C227.4375,966.3438 227.2344,966.4375 227.0156,966.75 L226.8438,966.6719 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="144" x="238.5" y="975.8467">start_game_request</text><line style="stroke:#181818;stroke-width:0.5;" x1="210.5" x2="384.5" y1="987" y2="987"/><line style="stroke:#181818;stroke-width:0.5;" x1="210.5" x2="384.5" y1="995" y2="995"/></g><!--MD5=[b5ad726f7e76edc1788a3bfb6eda2845]
class make_bet_request--><g id="elem_make_bet_request"><rect fill="#F1F1F1" height="48" id="make_bet_request" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="167" x="421" y="955"/><ellipse cx="436" cy="971" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M438.3438,966.6719 C437.4063,966.2344 436.8125,966.0938 435.9375,966.0938 C433.3125,966.0938 431.3125,968.1719 431.3125,970.8906 L431.3125,972.0156 C431.3125,974.5938 433.4219,976.4844 436.3125,976.4844 C437.5313,976.4844 438.6875,976.1875 439.4375,975.6406 C440.0156,975.2344 440.3438,974.7813 440.3438,974.3906 C440.3438,973.9375 439.9531,973.5469 439.4844,973.5469 C439.2656,973.5469 439.0625,973.625 438.875,973.8125 C438.4219,974.2969 438.4219,974.2969 438.2344,974.3906 C437.8125,974.6563 437.125,974.7813 436.3594,974.7813 C434.3125,974.7813 433.0156,973.6875 433.0156,971.9844 L433.0156,970.8906 C433.0156,969.1094 434.2656,967.7969 436,967.7969 C436.5781,967.7969 437.1875,967.9531 437.6563,968.2031 C438.1406,968.4844 438.3125,968.7031 438.4063,969.1094 C438.4688,969.5156 438.5,969.6406 438.6406,969.7656 C438.7813,969.9063 439.0156,970.0156 439.2344,970.0156 C439.5,970.0156 439.7656,969.875 439.9375,969.6563 C440.0469,969.5 440.0781,969.3125 440.0781,968.8906 L440.0781,967.4688 C440.0781,967.0313 440.0625,966.9063 439.9688,966.75 C439.8125,966.4844 439.5313,966.3438 439.2344,966.3438 C438.9375,966.3438 438.7344,966.4375 438.5156,966.75 L438.3438,966.6719 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="135" x="450" y="975.8467">make_bet_request</text><line style="stroke:#181818;stroke-width:0.5;" x1="422" x2="587" y1="987" y2="987"/><line style="stroke:#181818;stroke-width:0.5;" x1="422" x2="587" y1="995" y2="995"/></g><!--MD5=[af10583e2e8219af5501a9b859c12ad3]
class action_request--><g id="elem_action_request"><rect fill="#F1F1F1" height="48" id="action_request" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="139" x="623" y="955"/><ellipse cx="638" cy="971" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M640.3438,966.6719 C639.4063,966.2344 638.8125,966.0938 637.9375,966.0938 C635.3125,966.0938 633.3125,968.1719 633.3125,970.8906 L633.3125,972.0156 C633.3125,974.5938 635.4219,976.4844 638.3125,976.4844 C639.5313,976.4844 640.6875,976.1875 641.4375,975.6406 C642.0156,975.2344 642.3438,974.7813 642.3438,974.3906 C642.3438,973.9375 641.9531,973.5469 641.4844,973.5469 C641.2656,973.5469 641.0625,973.625 640.875,973.8125 C640.4219,974.2969 640.4219,974.2969 640.2344,974.3906 C639.8125,974.6563 639.125,974.7813 638.3594,974.7813 C636.3125,974.7813 635.0156,973.6875 635.0156,971.9844 L635.0156,970.8906 C635.0156,969.1094 636.2656,967.7969 638,967.7969 C638.5781,967.7969 639.1875,967.9531 639.6563,968.2031 C640.1406,968.4844 640.3125,968.7031 640.4063,969.1094 C640.4688,969.5156 640.5,969.6406 640.6406,969.7656 C640.7813,969.9063 641.0156,970.0156 641.2344,970.0156 C641.5,970.0156 641.7656,969.875 641.9375,969.6563 C642.0469,969.5 642.0781,969.3125 642.0781,968.8906 L642.0781,967.4688 C642.0781,967.0313 642.0625,966.9063 641.9688,966.75 C641.8125,966.4844 641.5313,966.3438 641.2344,966.3438 C640.9375,966.3438 640.7344,966.4375 640.5156,966.75 L640.3438,966.6719 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="107" x="652" y="975.8467">action_request</text><line style="stroke:#181818;stroke-width:0.5;" x1="624" x2="761" y1="987" y2="987"/><line style="stroke:#181818;stroke-width:0.5;" x1="624" x2="761" y1="995" y2="995"/></g><!--MD5=[f3998a2a9ecb9e6f502fc9359fb583cc]
class server_response--><g id="elem_server_response"><rect codeLine="63" fill="#F1F1F1" height="64.2969" id="server_response" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="167" x="338" y="690"/><ellipse cx="360.65" cy="706" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M362.9938,701.6719 C362.0563,701.2344 361.4625,701.0938 360.5875,701.0938 C357.9625,701.0938 355.9625,703.1719 355.9625,705.8906 L355.9625,707.0156 C355.9625,709.5938 358.0719,711.4844 360.9625,711.4844 C362.1813,711.4844 363.3375,711.1875 364.0875,710.6406 C364.6656,710.2344 364.9938,709.7813 364.9938,709.3906 C364.9938,708.9375 364.6031,708.5469 364.1344,708.5469 C363.9156,708.5469 363.7125,708.625 363.525,708.8125 C363.0719,709.2969 363.0719,709.2969 362.8844,709.3906 C362.4625,709.6563 361.775,709.7813 361.0094,709.7813 C358.9625,709.7813 357.6656,708.6875 357.6656,706.9844 L357.6656,705.8906 C357.6656,704.1094 358.9156,702.7969 360.65,702.7969 C361.2281,702.7969 361.8375,702.9531 362.3063,703.2031 C362.7906,703.4844 362.9625,703.7031 363.0563,704.1094 C363.1188,704.5156 363.15,704.6406 363.2906,704.7656 C363.4313,704.9063 363.6656,705.0156 363.8844,705.0156 C364.15,705.0156 364.4156,704.875 364.5875,704.6563 C364.6969,704.5 364.7281,704.3125 364.7281,703.8906 L364.7281,702.4688 C364.7281,702.0313 364.7125,701.9063 364.6188,701.75 C364.4625,701.4844 364.1813,701.3438 363.8844,701.3438 C363.5875,701.3438 363.3844,701.4375 363.1656,701.75 L362.9938,701.6719 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="118" x="376.35" y="710.8467">server_response</text><line style="stroke:#181818;stroke-width:0.5;" x1="339" x2="504" y1="722" y2="722"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="155" x="344" y="738.9951">ResponseType: enum</text><line style="stroke:#181818;stroke-width:0.5;" x1="339" x2="504" y1="746.2969" y2="746.2969"/></g><!--MD5=[4afc4b65ad9e26196afa89ceb4e8159f]
class answer_rqst_response--><g id="elem_answer_rqst_response"><rect fill="#F1F1F1" height="48" id="answer_rqst_response" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="191" x="330" y="830.5"/><ellipse cx="345" cy="846.5" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M347.3438,842.1719 C346.4063,841.7344 345.8125,841.5938 344.9375,841.5938 C342.3125,841.5938 340.3125,843.6719 340.3125,846.3906 L340.3125,847.5156 C340.3125,850.0938 342.4219,851.9844 345.3125,851.9844 C346.5313,851.9844 347.6875,851.6875 348.4375,851.1406 C349.0156,850.7344 349.3438,850.2813 349.3438,849.8906 C349.3438,849.4375 348.9531,849.0469 348.4844,849.0469 C348.2656,849.0469 348.0625,849.125 347.875,849.3125 C347.4219,849.7969 347.4219,849.7969 347.2344,849.8906 C346.8125,850.1563 346.125,850.2813 345.3594,850.2813 C343.3125,850.2813 342.0156,849.1875 342.0156,847.4844 L342.0156,846.3906 C342.0156,844.6094 343.2656,843.2969 345,843.2969 C345.5781,843.2969 346.1875,843.4531 346.6563,843.7031 C347.1406,843.9844 347.3125,844.2031 347.4063,844.6094 C347.4688,845.0156 347.5,845.1406 347.6406,845.2656 C347.7813,845.4063 348.0156,845.5156 348.2344,845.5156 C348.5,845.5156 348.7656,845.375 348.9375,845.1563 C349.0469,845 349.0781,844.8125 349.0781,844.3906 L349.0781,842.9688 C349.0781,842.5313 349.0625,842.4063 348.9688,842.25 C348.8125,841.9844 348.5313,841.8438 348.2344,841.8438 C347.9375,841.8438 347.7344,841.9375 347.5156,842.25 L347.3438,842.1719 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="159" x="359" y="851.3467">answer_rqst_response</text><line style="stroke:#181818;stroke-width:0.5;" x1="331" x2="520" y1="862.5" y2="862.5"/><line style="stroke:#181818;stroke-width:0.5;" x1="331" x2="520" y1="870.5" y2="870.5"/></g><!--MD5=[fe024f165dbe5df13e77f2376586941c]
class change_gamestate_msg--><g id="elem_change_gamestate_msg"><rect fill="#F1F1F1" height="48" id="change_gamestate_msg" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="206" x="556.5" y="830.5"/><ellipse cx="571.5" cy="846.5" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M573.8438,842.1719 C572.9063,841.7344 572.3125,841.5938 571.4375,841.5938 C568.8125,841.5938 566.8125,843.6719 566.8125,846.3906 L566.8125,847.5156 C566.8125,850.0938 568.9219,851.9844 571.8125,851.9844 C573.0313,851.9844 574.1875,851.6875 574.9375,851.1406 C575.5156,850.7344 575.8438,850.2813 575.8438,849.8906 C575.8438,849.4375 575.4531,849.0469 574.9844,849.0469 C574.7656,849.0469 574.5625,849.125 574.375,849.3125 C573.9219,849.7969 573.9219,849.7969 573.7344,849.8906 C573.3125,850.1563 572.625,850.2813 571.8594,850.2813 C569.8125,850.2813 568.5156,849.1875 568.5156,847.4844 L568.5156,846.3906 C568.5156,844.6094 569.7656,843.2969 571.5,843.2969 C572.0781,843.2969 572.6875,843.4531 573.1563,843.7031 C573.6406,843.9844 573.8125,844.2031 573.9063,844.6094 C573.9688,845.0156 574,845.1406 574.1406,845.2656 C574.2813,845.4063 574.5156,845.5156 574.7344,845.5156 C575,845.5156 575.2656,845.375 575.4375,845.1563 C575.5469,845 575.5781,844.8125 575.5781,844.3906 L575.5781,842.9688 C575.5781,842.5313 575.5625,842.4063 575.4688,842.25 C575.3125,841.9844 575.0313,841.8438 574.7344,841.8438 C574.4375,841.8438 574.2344,841.9375 574.0156,842.25 L573.8438,842.1719 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="174" x="585.5" y="851.3467">change_gamestate_msg</text><line style="stroke:#181818;stroke-width:0.5;" x1="557.5" x2="761.5" y1="862.5" y2="862.5"/><line style="stroke:#181818;stroke-width:0.5;" x1="557.5" x2="761.5" y1="870.5" y2="870.5"/></g><!--MD5=[9b257e8781d420fff5446e2eb49c7c1c]
class server_network_manager--><g id="elem_server_network_manager"><rect codeLine="1" fill="#F1F1F1" height="194.6719" id="server_network_manager" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="252" x="291.5" y="435"/><ellipse cx="323.6" cy="451" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M325.9438,446.6719 C325.0063,446.2344 324.4125,446.0938 323.5375,446.0938 C320.9125,446.0938 318.9125,448.1719 318.9125,450.8906 L318.9125,452.0156 C318.9125,454.5938 321.0219,456.4844 323.9125,456.4844 C325.1313,456.4844 326.2875,456.1875 327.0375,455.6406 C327.6156,455.2344 327.9438,454.7813 327.9438,454.3906 C327.9438,453.9375 327.5531,453.5469 327.0844,453.5469 C326.8656,453.5469 326.6625,453.625 326.475,453.8125 C326.0219,454.2969 326.0219,454.2969 325.8344,454.3906 C325.4125,454.6563 324.725,454.7813 323.9594,454.7813 C321.9125,454.7813 320.6156,453.6875 320.6156,451.9844 L320.6156,450.8906 C320.6156,449.1094 321.8656,447.7969 323.6,447.7969 C324.1781,447.7969 324.7875,447.9531 325.2563,448.2031 C325.7406,448.4844 325.9125,448.7031 326.0063,449.1094 C326.0688,449.5156 326.1,449.6406 326.2406,449.7656 C326.3813,449.9063 326.6156,450.0156 326.8344,450.0156 C327.1,450.0156 327.3656,449.875 327.5375,449.6563 C327.6469,449.5 327.6781,449.3125 327.6781,448.8906 L327.6781,447.4688 C327.6781,447.0313 327.6625,446.9063 327.5688,446.75 C327.4125,446.4844 327.1313,446.3438 326.8344,446.3438 C326.5375,446.3438 326.3344,446.4375 326.1156,446.75 L325.9438,446.6719 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="182" x="341.4" y="455.8467">server_network_manager</text><line style="stroke:#181818;stroke-width:0.5;" x1="292.5" x2="542.5" y1="467" y2="467"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="130" x="297.5" y="483.9951">acc: tcp_acceptor</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="191" x="297.5" y="500.292">player_id_to_address: map</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="175" x="297.5" y="516.5889">address_to_socket: map</text><line style="stroke:#181818;stroke-width:1.0;" x1="292.5" x2="542.5" y1="523.8906" y2="523.8906"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="143" x="297.5" y="540.8857">listener_loop(): void</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="240" x="297.5" y="557.1826">handle_incoming_message(): void</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="151" x="297.5" y="573.4795">read_message(): void</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="153" x="297.5" y="589.7764">send_message(): void</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="191" x="297.5" y="606.0732">broadcast_message(): void</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="152" x="297.5" y="622.3701">on_player_left(): void</text></g><!--MD5=[734e62549b123ccb989b3a2c32846bc9]
class player_manager--><g id="elem_player_manager"><rect codeLine="14" fill="#F1F1F1" height="113.1875" id="player_manager" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="170" x="578.5" y="476"/><ellipse cx="603.85" cy="492" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M606.1938,487.6719 C605.2563,487.2344 604.6625,487.0938 603.7875,487.0938 C601.1625,487.0938 599.1625,489.1719 599.1625,491.8906 L599.1625,493.0156 C599.1625,495.5938 601.2719,497.4844 604.1625,497.4844 C605.3813,497.4844 606.5375,497.1875 607.2875,496.6406 C607.8656,496.2344 608.1938,495.7813 608.1938,495.3906 C608.1938,494.9375 607.8031,494.5469 607.3344,494.5469 C607.1156,494.5469 606.9125,494.625 606.725,494.8125 C606.2719,495.2969 606.2719,495.2969 606.0844,495.3906 C605.6625,495.6563 604.975,495.7813 604.2094,495.7813 C602.1625,495.7813 600.8656,494.6875 600.8656,492.9844 L600.8656,491.8906 C600.8656,490.1094 602.1156,488.7969 603.85,488.7969 C604.4281,488.7969 605.0375,488.9531 605.5063,489.2031 C605.9906,489.4844 606.1625,489.7031 606.2563,490.1094 C606.3188,490.5156 606.35,490.6406 606.4906,490.7656 C606.6313,490.9063 606.8656,491.0156 607.0844,491.0156 C607.35,491.0156 607.6156,490.875 607.7875,490.6563 C607.8969,490.5 607.9281,490.3125 607.9281,489.8906 L607.9281,488.4688 C607.9281,488.0313 607.9125,487.9063 607.8188,487.75 C607.6625,487.4844 607.3813,487.3438 607.0844,487.3438 C606.7875,487.3438 606.5844,487.4375 606.3656,487.75 L606.1938,487.6719 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="115" x="620.15" y="496.8467">player_manager</text><line style="stroke:#181818;stroke-width:0.5;" x1="579.5" x2="747.5" y1="508" y2="508"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="125" x="584.5" y="524.9951">player_map: map</text><line style="stroke:#181818;stroke-width:1.0;" x1="579.5" x2="747.5" y1="532.2969" y2="532.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="128" x="584.5" y="549.292">get_player(): bool</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="129" x="584.5" y="565.5889">add_player(): bool</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="158" x="584.5" y="581.8857">remove_player(): bool</text></g><!--MD5=[c463bc19fe13ca68cd42d38d7368a899]
class game_instance--><g id="elem_game_instance"><rect codeLine="22" fill="#F1F1F1" height="227.2656" id="game_instance" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="198" x="412.5" y="148"/><ellipse cx="453.6" cy="164" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M455.9438,159.6719 C455.0063,159.2344 454.4125,159.0938 453.5375,159.0938 C450.9125,159.0938 448.9125,161.1719 448.9125,163.8906 L448.9125,165.0156 C448.9125,167.5938 451.0219,169.4844 453.9125,169.4844 C455.1313,169.4844 456.2875,169.1875 457.0375,168.6406 C457.6156,168.2344 457.9438,167.7813 457.9438,167.3906 C457.9438,166.9375 457.5531,166.5469 457.0844,166.5469 C456.8656,166.5469 456.6625,166.625 456.475,166.8125 C456.0219,167.2969 456.0219,167.2969 455.8344,167.3906 C455.4125,167.6563 454.725,167.7813 453.9594,167.7813 C451.9125,167.7813 450.6156,166.6875 450.6156,164.9844 L450.6156,163.8906 C450.6156,162.1094 451.8656,160.7969 453.6,160.7969 C454.1781,160.7969 454.7875,160.9531 455.2563,161.2031 C455.7406,161.4844 455.9125,161.7031 456.0063,162.1094 C456.0688,162.5156 456.1,162.6406 456.2406,162.7656 C456.3813,162.9063 456.6156,163.0156 456.8344,163.0156 C457.1,163.0156 457.3656,162.875 457.5375,162.6563 C457.6469,162.5 457.6781,162.3125 457.6781,161.8906 L457.6781,160.4688 C457.6781,160.0313 457.6625,159.9063 457.5688,159.75 C457.4125,159.4844 457.1313,159.3438 456.8344,159.3438 C456.5375,159.3438 456.3344,159.4375 456.1156,159.75 L455.9438,159.6719 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="108" x="473.4" y="168.8467">game_instance</text><line style="stroke:#181818;stroke-width:0.5;" x1="413.5" x2="609.5" y1="180" y2="180"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="176" x="418.5" y="196.9951">game_state: GameState</text><line style="stroke:#181818;stroke-width:1.0;" x1="413.5" x2="609.5" y1="204.2969" y2="204.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="122" x="418.5" y="221.292">is_started(): bool</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="126" x="418.5" y="237.5889">is_finished(): bool</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="133" x="418.5" y="253.8857">start_game(): bool</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="129" x="418.5" y="270.1826">add_player(): bool</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="186" x="418.5" y="286.4795">try_remove_player(): bool</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="71" x="418.5" y="302.7764">hit(): bool</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="91" x="418.5" y="319.0732">stand(): bool</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="83" x="418.5" y="335.3701">split(): bool</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="145" x="418.5" y="351.667">double_down(): bool</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="94" x="418.5" y="367.9639">insure(): bool</text></g><!--MD5=[444c12384fa8e4658b09e5ec8a311d8e]
class request_handler--><g id="elem_request_handler"><rect codeLine="37" fill="#F1F1F1" height="80.5938" id="request_handler" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="276" x="297.5" y="7"/><ellipse cx="373.25" cy="23" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M375.5938,18.6719 C374.6563,18.2344 374.0625,18.0938 373.1875,18.0938 C370.5625,18.0938 368.5625,20.1719 368.5625,22.8906 L368.5625,24.0156 C368.5625,26.5938 370.6719,28.4844 373.5625,28.4844 C374.7813,28.4844 375.9375,28.1875 376.6875,27.6406 C377.2656,27.2344 377.5938,26.7813 377.5938,26.3906 C377.5938,25.9375 377.2031,25.5469 376.7344,25.5469 C376.5156,25.5469 376.3125,25.625 376.125,25.8125 C375.6719,26.2969 375.6719,26.2969 375.4844,26.3906 C375.0625,26.6563 374.375,26.7813 373.6094,26.7813 C371.5625,26.7813 370.2656,25.6875 370.2656,23.9844 L370.2656,22.8906 C370.2656,21.1094 371.5156,19.7969 373.25,19.7969 C373.8281,19.7969 374.4375,19.9531 374.9063,20.2031 C375.3906,20.4844 375.5625,20.7031 375.6563,21.1094 C375.7188,21.5156 375.75,21.6406 375.8906,21.7656 C376.0313,21.9063 376.2656,22.0156 376.4844,22.0156 C376.75,22.0156 377.0156,21.875 377.1875,21.6563 C377.2969,21.5 377.3281,21.3125 377.3281,20.8906 L377.3281,19.4688 C377.3281,19.0313 377.3125,18.9063 377.2188,18.75 C377.0625,18.4844 376.7813,18.3438 376.4844,18.3438 C376.1875,18.3438 375.9844,18.4375 375.7656,18.75 L375.5938,18.6719 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="116" x="393.75" y="27.8467">request_handler</text><line style="stroke:#181818;stroke-width:0.5;" x1="298.5" x2="572.5" y1="39" y2="39"/><line style="stroke:#181818;stroke-width:1.0;" x1="298.5" x2="572.5" y1="47" y2="47"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="264" x="303.5" y="63.9951">handle_request(): request_response*</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4" x="303.5" y="80.292"> </text></g><!--MD5=[702c1279a0ca73c1369464ef20e9ba9b]
reverse link client_request to join_game_request--><g id="link_client_request_join_game_request"><path codeLine="50" d="M161.147,909.316 C144.723,925.283 127.596,941.9346 114.319,954.8428 " fill="none" id="client_request-backto-join_game_request" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="none" points="156.372,904.195,175.591,895.272,166.131,914.233,156.372,904.195" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[a6e166aeea3561c9e496da8c1582cad9]
reverse link client_request to start_game_request--><g id="link_client_request_start_game_request"><path codeLine="51" d="M253.857,911.996 C263.864,927.131 274.129,942.6553 282.188,954.8428 " fill="none" id="client_request-backto-start_game_request" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="none" points="247.991,915.816,242.798,895.272,259.668,908.094,247.991,915.816" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[1025fbc298462c0ba96019c11ddc188c]
reverse link client_request to make_bet_request--><g id="link_client_request_make_bet_request"><path codeLine="52" d="M313.247,896.651 C358.956,916.093 411.81,938.5745 450.356,954.9699 " fill="none" id="client_request-backto-make_bet_request" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="none" points="310.481,903.082,294.817,888.812,315.961,890.199,310.481,903.082" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[0c3b78520dfb77f222e49e565c69c371]
reverse link client_request to action_request--><g id="link_client_request_action_request"><path codeLine="53" d="M313.945,894.889 C443.179,933.04 482.023,926.06 605.5,955 C611.128,956.3191 616.947,957.7373 622.783,959.1985 " fill="none" id="client_request-backto-action_request" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="none" points="311.769,901.544,294.647,889.06,315.817,888.142,311.769,901.544" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[ac4ec1fe6b6e982b6f075afe6e29985c]
reverse link server_response to answer_rqst_response--><g id="link_server_response_answer_rqst_response"><path codeLine="66" d="M423.071,774.251 C423.665,793.617 424.311,814.709 424.788,830.262 " fill="none" id="server_response-backto-answer_rqst_response" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="none" points="416.074,774.463,422.458,754.258,430.068,774.034,416.074,774.463" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[292a160b93b61b039dbe06d367d47317]
reverse link server_response to change_gamestate_msg--><g id="link_server_response_change_gamestate_msg"><path codeLine="67" d="M495.953,763.824 C535.957,785.759 583.811,811.998 617.386,830.408 " fill="none" id="server_response-backto-change_gamestate_msg" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="none" points="492.376,769.846,478.205,754.092,499.107,757.57,492.376,769.846" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[5fd9800ccbda968a49d61fcd248cfbbf]
link server_response to client_request--><!--MD5=[db13a6cf1ed298339682ec04aaaf9902]
link request_handler to game_instance--><g id="link_request_handler_game_instance"><path codeLine="75" d="M449.795,88.376 C455.944,105.528 463.471,126.525 471.128,147.883 " fill="none" id="request_handler-game_instance" style="stroke:#181818;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/></g><!--MD5=[54c3862c781681611072aa407a36a609]
link request_handler to player_manager--><g id="link_request_handler_player_manager"><path codeLine="76" d="M557.34,88.118 C584.901,102.706 611.122,122.208 628.5,148 C694.116,245.387 686.169,389.668 674.715,470.65 " fill="none" id="request_handler-to-player_manager" style="stroke:#181818;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#181818" points="673.956,475.892,679.2031,467.5572,674.6717,470.9435,671.2855,466.4121,673.956,475.892" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[76f44e30b63ae6973a3c19a998a282d3]
reverse link request_handler to server_network_manager--><g id="link_request_handler_server_network_manager"><path codeLine="77" d="M413.486,92.773 C406.242,109.628 399.121,129.287 395.5,148 C376.846,244.412 386.93,356.793 398.864,434.875 " fill="none" id="request_handler-backto-server_network_manager" style="stroke:#181818;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#181818" points="415.529,88.097,408.2606,94.7431,413.5274,92.6789,415.5916,97.9457,415.529,88.097" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[772384777002e766b7607b6b7a59080a]
link game_instance to server_network_manager--><g id="link_game_instance_server_network_manager"><path codeLine="78" d="M472.18,375.022 C465.834,393.182 459.296,411.892 453.046,429.779 " fill="none" id="game_instance-to-server_network_manager" style="stroke:#181818;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#181818" points="451.291,434.8,458.0369,427.6241,452.941,430.0801,450.485,424.9842,451.291,434.8" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[b0f969e2618988ad04e863eddc65f3e8]
link game_instance to player_manager--><g id="link_game_instance_player_manager"><path codeLine="79" d="M575.081,375.022 C593.768,408.093 613.485,442.987 629.546,471.411 " fill="none" id="game_instance-to-player_manager" style="stroke:#181818;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#181818" points="632.092,475.916,631.1463,466.1127,629.6319,471.5631,624.1816,470.0487,632.092,475.916" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[eff95888325d11d789b4bec9bcfc1eed]
link request_handler to client_request--><g id="link_request_handler_client_request"><path codeLine="81" d="M409.59,88.212 C398.569,106.06 386.079,127.649 376.5,148 C318.788,270.619 305.71,303.362 273.5,435 C240.039,571.754 224.707,738.783 219.132,813.751 " fill="none" id="request_handler-client_request" style="stroke:#181818;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/></g><!--MD5=[3da6066e4af01b0380276ecb8cfaa25e]
link server_network_manager to server_response--><g id="link_server_network_manager_server_response"><path codeLine="82" d="M419.564,630.271 C420.027,651.941 420.484,673.395 420.839,689.996 " fill="none" id="server_network_manager-server_response" style="stroke:#181818;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/></g><!--MD5=[cd2a1f644b4a63c322e8455eb36c384e]
@startuml
Class server_network_manager{
    acc: tcp_acceptor
    player_id_to_address: map
    address_to_socket: map
    - -
    listener_loop(): void
    handle_incoming_message(): void
    read_message(): void
    send_message(): void
    broadcast_message(): void
    on_player_left(): void
}

Class player_manager{
    player_map: map
    - -
    get_player(): bool
    add_player(): bool
    remove_player(): bool
}

Class game_instance{
    game_state: GameState
    - -
    is_started(): bool  
    is_finished(): bool
    start_game(): bool
    add_player(): bool
    try_remove_player(): bool
    hit(): bool
    stand(): bool
    split(): bool
    double_down(): bool
    insure(): bool
}

Class request_handler{
    - -
    handle_request(): request_response*

}


together {

class client_request{
player_id: string
RequestType: enum
}
client_request <|- - join_game_request
client_request <|- - start_game_request
client_request <|- - make_bet_request
client_request <|- - action_request
' client_request <|- - hit_request
' client_request <|- - stand_request
' client_request <|- - split_request
' client_request <|- - double_down_request
' client_request <|- - insure_request

' class action_request{
'    action_type: enum{hit, stand, split, double, insure}
'}
class server_response{
ResponseType: enum
}
server_response <|-down-  answer_rqst_response
server_response <|-down-  change_gamestate_msg

}

server_response .[hidden]. client_request



request_handler .. game_instance
request_handler ..> player_manager
request_handler <.. server_network_manager
game_instance ..> server_network_manager
game_instance ..> player_manager

request_handler .right. client_request
server_network_manager .. server_response
@enduml

@startuml
Class server_network_manager{
    acc: tcp_acceptor
    player_id_to_address: map
    address_to_socket: map
    - -
    listener_loop(): void
    handle_incoming_message(): void
    read_message(): void
    send_message(): void
    broadcast_message(): void
    on_player_left(): void
}

Class player_manager{
    player_map: map
    - -
    get_player(): bool
    add_player(): bool
    remove_player(): bool
}

Class game_instance{
    game_state: GameState
    - -
    is_started(): bool  
    is_finished(): bool
    start_game(): bool
    add_player(): bool
    try_remove_player(): bool
    hit(): bool
    stand(): bool
    split(): bool
    double_down(): bool
    insure(): bool
}

Class request_handler{
    - -
    handle_request(): request_response*

}


together {

class client_request{
player_id: string
RequestType: enum
}
client_request <|- - join_game_request
client_request <|- - start_game_request
client_request <|- - make_bet_request
client_request <|- - action_request

class server_response{
ResponseType: enum
}
server_response <|-down-  answer_rqst_response
server_response <|-down-  change_gamestate_msg

}

server_response .[hidden]. client_request



request_handler .. game_instance
request_handler ..> player_manager
request_handler <.. server_network_manager
game_instance ..> server_network_manager
game_instance ..> player_manager

request_handler .right. client_request
server_network_manager .. server_response
@enduml

PlantUML version 1.2022.3(Tue Mar 29 16:10:57 UTC 2022)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>